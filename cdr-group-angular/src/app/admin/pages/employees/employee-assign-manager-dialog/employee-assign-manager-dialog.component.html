<app-base-dialog
  title="admin.employees.assignManager"
  saveLabel="common.assign"
  [loading]="loading"
  (save)="onSubmit()"
  (cancel)="onCancel()">

  <form [formGroup]="form" class="dialog-form">
    <div class="form-section section-primary">
      <div class="section-header">
        <div class="section-icon">
          <mat-icon>supervisor_account</mat-icon>
        </div>
        <div class="section-title">{{ 'admin.employees.selectManager' | translate }}</div>
      </div>

      <div class="section-content">
        <div class="employee-info">
          <span class="label">{{ 'admin.employees.employee' | translate }}:</span>
          <span class="value">{{ isArabic ? employee.fullNameAr : employee.fullNameEn }}</span>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>{{ 'admin.employees.manager' | translate }}</mat-label>
          <mat-icon matPrefix>supervisor_account</mat-icon>
          <mat-select formControlName="managerId">
            <mat-option [value]="null">{{ 'admin.employees.noManager' | translate }}</mat-option>
            @for (manager of managers; track manager.id) {
              <mat-option [value]="manager.id">{{ getEmployeeName(manager) }} ({{ manager.employeeCode }})</mat-option>
            }
          </mat-select>
          @if (loadingManagers) {
            <mat-hint>{{ 'common.loading' | translate }}</mat-hint>
          }
        </mat-form-field>
      </div>
    </div>
  </form>

</app-base-dialog>
