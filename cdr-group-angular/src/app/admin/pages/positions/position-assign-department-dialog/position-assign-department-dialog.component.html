<app-base-dialog
  title="admin.positions.assignDepartment"
  saveLabel="common.assign"
  [loading]="loading"
  (save)="onSubmit()"
  (cancel)="onCancel()">

  <form [formGroup]="form" class="dialog-form">
    <div class="form-section section-primary">
      <div class="section-header">
        <div class="section-icon">
          <mat-icon>business</mat-icon>
        </div>
        <div class="section-title">{{ 'admin.positions.selectDepartment' | translate }}</div>
      </div>

      <div class="section-content">
        <div class="position-info">
          <span class="label">{{ 'admin.positions.position' | translate }}:</span>
          <span class="value">{{ isArabic ? position.nameAr : position.nameEn }}</span>
        </div>

        <app-async-select
          formControlName="departmentId"
          label="admin.positions.department"
          icon="business"
          nullOptionLabel="admin.positions.noDepartment"
          [dataSource$]="departmentsDataSource$"
          [optionMapper]="departmentMapper"
          [resetOnDataSourceChange]="false">
        </app-async-select>
      </div>
    </div>
  </form>

</app-base-dialog>
