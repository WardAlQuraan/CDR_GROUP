<app-base-dialog
  [title]="'admin.users.changePassword'"
  [saveLabel]="'common.save'"
  [saveDisabled]="form.invalid || passwordsMismatch"
  [loading]="loading"
  (save)="onSubmit()"
  (cancel)="onCancel()">

  <div class="username-info">
    <mat-icon>person</mat-icon>
    <span>{{ data.username }}</span>
  </div>

  <form [formGroup]="form" class="dialog-form">
    <app-form-field formControlName="newPassword" type="password" label="admin.users.newPassword" icon="lock"
      [errors]="[{name: 'required', message: 'validation.required'}, {name: 'minlength', message: 'admin.users.errors.passwordMinLength'}]">
    </app-form-field>

    <app-form-field formControlName="confirmPassword" type="password" label="admin.users.confirmPassword" icon="lock_outline"
      [errors]="[{name: 'required', message: 'validation.required'}]">
    </app-form-field>

    @if (passwordsMismatch) {
      <mat-error style="margin-top: -16px; font-size: 0.75rem;">{{ 'admin.users.errors.passwordsMismatch' | translate }}</mat-error>
    }
  </form>

</app-base-dialog>
